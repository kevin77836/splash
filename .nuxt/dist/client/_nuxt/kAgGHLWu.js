import{r as g,H as Xe,o as je,I as Je,t as Ke,x as o,J as F,B as R,y as _,K as u,L as A,M as D,v as Ye}from"./DcyKddeJ.js";import{S as Ze,C as pe,P as en,W as nn,O as tn,A as on,D as ln,a as an,M as sn,b as rn,c as un,d as dn,e as Me,V as cn,E as pn,f as mn,g as te,h as me,i as vn}from"./Cx5nvXSb.js";import{G as gn}from"./lYa9f4yG.js";import{E as fn,R as hn,O as wn}from"./DpJLAcoC.js";const yn={class:"splash-container"},_n={id:"thickToThinPanel",class:"control-panel thick-to-thin-panel"},xn={class:"control-group"},bn={class:"control-label"},Sn={class:"value-display"},Ln={class:"control-group"},Mn={class:"control-label"},Tn={class:"value-display"},En={class:"control-group"},kn={class:"control-label"},Pn={class:"value-display"},Cn={class:"control-group"},Fn={class:"control-label"},Rn={class:"value-display"},An={class:"control-group"},Dn={class:"control-label"},In={class:"value-display"},Un={class:"control-group"},Nn={class:"control-label"},qn={class:"value-display"},zn={id:"thinToThickPanel",class:"control-panel thin-to-thick-panel"},Wn={class:"control-group"},Vn={class:"control-label"},On={class:"value-display"},Bn={class:"control-group"},Gn={class:"control-label"},Qn={class:"value-display"},Hn={class:"control-group"},$n={class:"control-label"},Xn={class:"value-display"},jn={class:"control-group"},Jn={class:"control-label"},Kn={class:"value-display"},Yn={class:"control-group"},Zn={class:"control-label"},et={class:"value-display"},nt={class:"control-group"},tt={class:"control-label"},ot={class:"value-display"},lt={id:"commonPanel",class:"control-panel common-panel"},at={id:"switchPanel",class:"control-panel switch-panel"},it={class:"switch-control-group"},st={class:"switch-label"},rt={class:"switch"},ut=["checked"],dt={class:"switch-control-group"},ct={class:"switch-label"},pt={class:"switch"},mt=["checked"],vt={class:"switch-control-group"},gt={class:"switch-label"},ft={class:"switch"},ht=["checked"],we=5,Te=.5,Ee=50,wt=20,yt=.2,_t=1.5,ke=2.5,xt=1,bt=10,St=1,Lt=`
  uniform vec3 viewVector;
  uniform vec2 uResolution;
  uniform float uTime;
  varying vec2 vUv;
  varying float opacity;
  void main() {
    vUv = uv;
    vec4 mvPos = modelViewMatrix * vec4(position, 1.0);
    gl_Position = projectionMatrix * mvPos;
    vec3 nNormal = normalize(normalMatrix * normal);
    vec3 nView   = normalize(viewVector - mvPos.xyz);
    opacity = dot(nNormal, nView);
    opacity = 1.0 - abs(opacity * 1.3);
  }
`,Mt=`
  uniform vec3 uColor;
  uniform vec2 uResolution;
  uniform float uTime;
  varying vec2 vUv;
  varying float opacity;
  void main() {
    vec2 d = gl_FragCoord.xy / uResolution;
    vec3 fade = vec3(d.x, d.y, 1.0);
    vec3 c = mix(vec3(0.0), fade * uColor, opacity);
    gl_FragColor = vec4(c, 1.0);
  }
`,Rt={__name:"ver1",setup(Tt){const j=g(null),ee=g(null),I=g(.1),U=g(.01),L=g(2.5),M=g(3.5),J=g(.25),b=g(4),N=g(.01),q=g(.1),T=g(2),E=g(3),K=g(1.25),k=g(3),Q=g(200),S=g("shader"),H=g(!1),Y=g(!1);let d,s,w,G,i,z,v,ne,Z,ye,_e,y=[],f=[],W=[],h=[],x=[],P=[],V=[],O=[],$=null,oe=null,ve=!0;function Pe(){return{shader:new dn({uniforms:{uResolution:{value:new cn(window.innerWidth,window.innerHeight)},uTime:{value:0},uColor:{value:new pe(0)},viewVector:{value:s.position}},vertexShader:Lt,fragmentShader:Mt,transparent:!0,side:Me}),liquid:new un({color:16777215,metalness:.9,roughness:0,transparent:!0,opacity:.25,side:Me,envMap:null})}}function Ce(){new pn().setPath("/hdr/").load("HDR_Light_Studio_Free_HDRI_Design_04.exr",a=>{a.mapping=mn;const e=ne.fromEquirectangular(a).texture;ne.dispose(),a.dispose(),console.log("本地 EXR 環境貼圖已載入並處理完成。"),d.environment=e,v&&v.liquid&&(v.liquid.envMap=e,v.liquid.needsUpdate=!0)},void 0,a=>{console.error("無法載入本地 EXR 環境貼圖:",a),alert("無法載入 assets/hdr/HDR_Light_Studio_Free_HDRI_Design_05.exr，請檢查檔案是否存在或路徑是否正確。")})}function se(){var c,r;if(!z||!i)return;const a=z.getElapsedTime(),e=b.value+k.value;y.length=e,f.length=e,W.length=e,h.length=e,x.length=e,P.length=e,V.length=e,O.length=e;let n=0;for(let l=0;l<b.value;l++)f[n]||(f[n]=new te),(c=f[n])==null||c.set(Math.random()*2-1,Math.random()*2-1,Math.random()*2-1).normalize(),W[n]=me.randFloat(L.value,M.value),h[n]="tt",y[n]=a,x[n]="growing",P[n]=void 0,V[n]=void 0,O[n]=void 0,n++;for(let l=0;l<k.value;l++)f[n]||(f[n]=new te),(r=f[n])==null||r.set(Math.random()*2-1,Math.random()*2-1,Math.random()*2-1).normalize(),W[n]=me.randFloat(T.value,E.value),h[n]="th",y[n]=a,x[n]="growing",P[n]=void 0,V[n]=void 0,O[n]=void 0,n++;i.reset(),ve=!0}function xe(a){var r;if(!z)return;a.reset();const e=z.getElapsedTime(),n=new te(.5,.5,.5),c=b.value+k.value;for(let l=0;l<c;l++){if(y[l]===void 0||e<y[l]||W[l]===void 0)continue;const m=W[l]/a.scale.x;let t=0,re=e-y[l];switch(x[l]){case"growing":if(m>.001){const B=H.value?we*yt:we,C=m/(B/a.scale.x),ce=C>0?Math.min(re/C,1):1;t=Math.pow(ce,Te)*m}else t=0;if(H.value&&t>=m*.999){x[l]="pauseAtEnd";const B=Math.random()*bt;V[l]=e+B,t=m}break;case"pauseAtEnd":e>=(V[l]||e+1)&&(x[l]="shrinking",P[l]=e,V[l]=void 0),t=m;break;case"shrinking":const le=e-(P[l]||e),ae=xt*_t,de=Math.max(0,1-le/ae);if(t=m*de,de===0)if(H.value){x[l]="pauseAtStart";const B=Math.random()*St;O[l]=e+B,P[l]=void 0,t=.001}else x[l]="growing",P[l]=void 0,y[l]=void 0,t=.001;break;case"pauseAtStart":if(e>=(O[l]||e+1)){f[l]||(f[l]=new te),(r=f[l])==null||r.set(Math.random()*2-1,Math.random()*2-1,Math.random()*2-1).normalize(),h[l]=l<b.value?"tt":"th";const B=h[l]==="tt"?L.value:T.value,C=h[l]==="tt"?M.value:E.value;W[l]=me.randFloat(B,C),y[l]=e,x[l]="growing",O[l]=void 0,t=.001}else t=.001;break;default:if(m>.001&&y[l]!==void 0){const C=m/(we/a.scale.x),ce=C>0?Math.min(re/C,1):1;t=Math.pow(ce,Te)*m}else t=0;break}if(t<=.001)continue;const ue=f[l],p=h[l];if(!ue||!p)continue;let ge,fe,he;p==="tt"?(ge=I.value,fe=U.value,he=J.value):(ge=N.value,fe=q.value,he=K.value);for(let le=0;le<=Ee;le++){const ae=le/Ee,de=Math.pow(ae,he),B=me.lerp(ge,fe,de);let C=B;if(H.value){const He=.15*B,$e=Math.sin(e*1-ae*Math.PI*4)*He;C+=$e,C=Math.max(C,0)}const ie=ue.clone().multiplyScalar(t*ae).add(n);a.addBall(ie.x,ie.y,ie.z,C,wt)}}a.update()}function Fe(){if(!s)return;console.log("開始匯出設定...");const a=f.map(r=>r?{x:r.x,y:r.y,z:r.z}:null),e={x:s.position.x,y:s.position.y,z:s.position.z},n={x:s.quaternion.x,y:s.quaternion.y,z:s.quaternion.z,w:s.quaternion.w},c={ttStartStrength:I.value,ttEndStrength:U.value,ttMinWorldLength:L.value,ttMaxWorldLength:M.value,ttShrinkPower:J.value,ttNumLines:b.value,thStartStrength:N.value,thEndStrength:q.value,thMinWorldLength:T.value,thMaxWorldLength:E.value,thShrinkPower:K.value,thNumLines:k.value,resolution:Q.value,currentMaterial:S.value,lineTypes:h,randomDirections:a,currentTargetLengths:W,cameraPosition:e,cameraQuaternion:n};try{const r=JSON.stringify(c,null,2),l=new Blob([r],{type:"application/json"}),m=URL.createObjectURL(l),t=document.createElement("a");t.href=m,t.download="metaball_config.json",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(m),console.log("設定已匯出為 metaball_config.json")}catch(r){console.error("匯出設定失敗:",r),alert("匯出設定失敗！")}}function Re(){var a;(a=ee.value)==null||a.click()}function Ae(a){var c,r;console.log("開始匯入設定...");const e=(r=(c=a.target)==null?void 0:c.files)==null?void 0:r[0];if(!e){console.log("未選擇檔案。");return}const n=new FileReader;n.onload=function(l){var m;try{const t=JSON.parse((m=l.target)==null?void 0:m.result);if(console.log("讀取的設定:",t),!t||typeof t!="object")throw new Error("無效的設定檔格式");const re=["ttStartStrength","thStartStrength","resolution","lineTypes","randomDirections","currentTargetLengths","cameraPosition","cameraQuaternion"];for(const p of re)if(!(p in t))throw new Error(`缺少必要欄位: ${p}`);if(!("ttNumLines"in t)||!("thNumLines"in t))throw new Error("缺少必要欄位: ttNumLines or thNumLines");const X=t.ttNumLines+t.thNumLines;if(!Array.isArray(t.lineTypes)||t.lineTypes.length!==X||!Array.isArray(t.randomDirections)||t.randomDirections.length!==X||!Array.isArray(t.currentTargetLengths)||t.currentTargetLengths.length!==X)throw new Error("線條數據數量與線條總數不符");I.value=t.ttStartStrength,U.value=t.ttEndStrength,L.value=t.ttMinWorldLength,M.value=t.ttMaxWorldLength,J.value=t.ttShrinkPower,b.value=t.ttNumLines,N.value=t.thStartStrength,q.value=t.thEndStrength,T.value=t.thMinWorldLength,E.value=t.thMaxWorldLength,K.value=t.thShrinkPower,k.value=t.thNumLines,Q.value=t.resolution,S.value=t.currentMaterial||"shader",i&&(i.material=v[S.value],be()),s&&G&&(t.cameraPosition&&s.position.set(t.cameraPosition.x,t.cameraPosition.y,t.cameraPosition.z),t.cameraQuaternion&&s.quaternion.set(t.cameraQuaternion.x??t.cameraQuaternion._x,t.cameraQuaternion.y??t.cameraQuaternion._y,t.cameraQuaternion.z??t.cameraQuaternion._z,t.cameraQuaternion.w??t.cameraQuaternion._w),G.update());const ue=(z==null?void 0:z.getElapsedTime())??0;y.length=X,f.length=X,W.length=X,h.length=X;for(let p=0;p<X;p++)h[p]=t.lineTypes[p],W[p]=t.currentTargetLengths[p],t.randomDirections[p]?f[p]=new te(t.randomDirections[p].x,t.randomDirections[p].y,t.randomDirections[p].z):f[p]=null,y[p]=ue,x[p]="growing",P[p]=void 0,V[p]=void 0,O[p]=void 0;i==null||i.reset(),console.log("設定已成功匯入。"),alert("設定已載入！")}catch(t){console.error("匯入設定失敗:",t),alert(`匯入設定失敗！錯誤: ${t.message}`)}finally{ee.value&&(ee.value.value="")}},n.onerror=function(l){console.error("讀取檔案錯誤:",l),alert("讀取檔案時發生錯誤。"),ee.value&&(ee.value.value="")},n.readAsText(e)}function De(){if(!i||!s)return;console.log("開始匯出 GLB (應用視角)...");const a=Q.value,e=i.quaternion.clone(),n=new gn;try{console.log(`  - 使用目前解析度: ${a}`),i.init(a),console.log("  - 重新計算模型..."),xe(i),console.log("  - 模型計算完成."),console.log("  - 應用反向攝影機旋轉...");const c=s.quaternion.clone().invert();i.quaternion.premultiply(c),i.updateMatrixWorld(!0),console.log("  - 反向旋轉已應用."),n.parse(i,r=>{if(r instanceof ArrayBuffer)try{const l=new Blob([r],{type:"model/gltf-binary"}),m=URL.createObjectURL(l),t=document.createElement("a");t.href=m,t.download=`metaball_model_view_res${a}.glb`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(m),console.log(`GLB 檔案已匯出: metaball_model_view_res${a}.glb`),alert(`模型 (含視角, res ${a}) GLB 已下載！`)}catch(l){console.error("建立或下載 GLB Blob 時出錯:",l),alert("下載 GLB 時發生錯誤！")}else console.error("匯出結果不是預期的 ArrayBuffer:",r),alert("匯出 GLB 失敗：格式錯誤。請檢查控制台。");console.log("  - (成功) 恢復原始模型旋轉..."),i.quaternion.copy(e),i.updateMatrixWorld(!0),console.log("  - 模型旋轉已恢復.")},r=>{console.error("匯出 GLB 時發生錯誤:",r),alert("匯出 GLB 時發生錯誤！請檢查控制台。"),console.log("  - (錯誤) 恢復原始模型旋轉..."),i.quaternion.copy(e),i.updateMatrixWorld(!0),console.log("  - 模型旋轉已恢復.")},{binary:!0})}catch(c){console.error("準備匯出或應用旋轉時出錯:",c),alert("準備匯出模型時發生錯誤！"),console.log("  - (Catch) 恢復原始模型旋轉..."),i.quaternion.copy(e),i.updateMatrixWorld(!0),console.log("  - 模型旋轉已恢復.")}}function Ie(){!i||!d||(S.value==="shader"?(S.value="liquid",d.background instanceof pe&&d.background.set(1118481)):(S.value="shader",d.background instanceof pe&&d.background.set(16777215)),i.material=v[S.value],console.log(`材質已切換為: ${S.value}, 背景顏色已更新.`))}function Ue(){if(!(!z||!i||!s||!G)){if(H.value)H.value=!1,console.log("流動動畫已停止，正在恢復狀態..."),$?(b.value=$.ttNumLines,k.value=$.thNumLines,h=[...$.lineTypes],f=$.randomDirections.map(a=>a?new te(a.x,a.y,a.z):null),W=[...$.currentTargetLengths],y=[...$.lineStartTimes],x=h.map(()=>"growing"),P=h.map(()=>{}),V=h.map(()=>{}),O=h.map(()=>{}),console.log("線條狀態已恢復"),$=null):console.warn("找不到保存的狀態來恢復。"),oe?(s.position.copy(oe.position),s.quaternion.copy(oe.quaternion),G.update(),console.log("相機狀態已恢復"),oe=null):console.warn("找不到保存的相機狀態來恢復。"),i.reset();else{console.log("開始流動動畫，正在保存當前狀態並設置隨機延遲..."),$={ttNumLines:b.value,thNumLines:k.value,lineTypes:[...h],randomDirections:f.map(n=>n?{x:n.x,y:n.y,z:n.z}:null),currentTargetLengths:[...W],lineStartTimes:[...y]},oe={position:s.position.clone(),quaternion:s.quaternion.clone()},console.log("狀態已保存。"),H.value=!0;const a=z.getElapsedTime(),e=b.value+k.value;if(x.length=e,P.length=e,V.length=e,O.length=e,ve){console.log("首次觸發流動：所有線條同時開始。");for(let n=0;n<e;n++)y[n]=a,x[n]="growing",P[n]=void 0,V[n]=void 0,O[n]=void 0;ve=!1}else{console.log(`非首次觸發流動：各線條將在 ${ke.toFixed(1)} 秒內隨機開始。`);for(let n=0;n<e;n++){const c=Math.random()*ke;y[n]=a+c,x[n]="growing",P[n]=void 0,V[n]=void 0,O[n]=void 0}}i.reset()}i.material=v[S.value]}}function Ne(){!i||!d||(Y.value=!Y.value,console.log(`像素化狀態已切換為: ${Y.value}`))}function qe(){I.value<U.value&&(U.value=I.value)}function ze(){U.value>I.value&&(I.value=U.value)}function We(){L.value>M.value&&(M.value=L.value)}function Ve(){M.value<L.value&&(L.value=M.value)}function Oe(){N.value>q.value&&(q.value=N.value)}function Be(){q.value<N.value&&(N.value=q.value)}function Ge(){T.value>E.value&&(E.value=T.value)}function Qe(){E.value<T.value&&(T.value=E.value)}function be(){if(i){const a=Q.value*1.5;i.init(Q.value),i.isolation=a,console.log(`Marching Cubes params updated: resolution=${Q.value}, derivedIsolation=${a}`)}}Xe(Q,be);function Se(){if(_e=requestAnimationFrame(Se),!(!i||!v||!s||!w||!d||!G)){if(xe(i),G.update(),S.value==="shader"&&!Y.value){const a=z.getElapsedTime();v.shader.uniforms.uTime.value=a,v.shader.uniforms.viewVector.value=s.position}Y.value&&Z?Z.render():w.render(d,s)}}function Le(){var n,c;if(!s||!w||!v)return;const a=((n=j.value)==null?void 0:n.clientWidth)??window.innerWidth,e=((c=j.value)==null?void 0:c.clientHeight)??window.innerHeight;s.aspect=a/e,s.updateProjectionMatrix(),w.setSize(a,e),Z&&Z.setSize(a,e),v.shader&&v.shader.uniforms.uResolution.value.set(a,e)}return je(()=>{if(!j.value){console.error("Canvas container not found!");return}const a=j.value,e=a.clientWidth,n=a.clientHeight;d=new Ze,d.background=new pe(16777215),s=new en(45,e/n,.1,1e3),s.position.set(0,0,30),s.lookAt(d.position),w=new nn({antialias:!0}),w.setSize(e,n),w.setPixelRatio(Math.min(window.devicePixelRatio,1.5)),a.appendChild(w.domElement),G=new tn(s,w.domElement),G.enableDamping=!0,d.add(new on(16777215,.3));const c=new ln(16777215,.5);c.position.set(5,10,7.5),d.add(c),ne=new an(w),ne.compileEquirectangularShader(),v=Pe();const r=Q.value*1.5;i=new sn(Q.value,v[S.value],!0,!0,1e5),i.isolation=r,i.scale.set(8,8,8),i.enableUvs=!1,i.enableColors=!1,d.add(i),Z=new fn(w),ye=new hn(6,d,s),Z.addPass(ye);const l=new wn;Z.addPass(l),z=new vn,Ce(),se(),Se(),window.addEventListener("resize",Le)}),Je(()=>{var a,e;cancelAnimationFrame(_e),window.removeEventListener("resize",Le),G&&G.dispose(),w&&w.dispose(),v&&((a=v.shader)==null||a.dispose(),(e=v.liquid)==null||e.dispose(),d!=null&&d.environment&&d.environment.dispose()),i&&(d==null||d.remove(i)),d&&d.traverse(n=>{var c;if(n instanceof rn){(c=n.geometry)==null||c.dispose();const r=n.material;Array.isArray(r)?r.forEach(l=>l.dispose()):r&&r.dispose()}}),ne&&ne.dispose(),j.value&&w&&j.value.removeChild(w.domElement),console.log("Three.js scene cleaned up.")}),(a,e)=>(Ye(),Ke("div",yn,[o("div",{ref_key:"canvasContainer",ref:j,class:"canvas-container"},null,512),o("div",_n,[e[18]||(e[18]=o("div",{class:"panel-title"},"由粗到細 線條控制",-1)),o("div",xn,[o("label",bn,[e[12]||(e[12]=R("最粗粗度 (強度): ")),o("span",Sn,_(u(I).toFixed(2)),1)]),F(o("input",{type:"range","onUpdate:modelValue":e[0]||(e[0]=n=>D(I)?I.value=n:null),min:"0",max:"0.1",step:"0.01",onInput:qe},null,544),[[A,u(I),void 0,{number:!0}]])]),o("div",Ln,[o("label",Mn,[e[13]||(e[13]=R("最細粗度 (強度): ")),o("span",Tn,_(u(U).toFixed(2)),1)]),F(o("input",{type:"range","onUpdate:modelValue":e[1]||(e[1]=n=>D(U)?U.value=n:null),min:"0.0",max:"0.1",step:"0.01",onInput:ze},null,544),[[A,u(U),void 0,{number:!0}]])]),o("div",En,[o("label",kn,[e[14]||(e[14]=R("最短長度: ")),o("span",Pn,_(u(L).toFixed(1)),1)]),F(o("input",{type:"range","onUpdate:modelValue":e[2]||(e[2]=n=>D(L)?L.value=n:null),min:"0.5",max:"5.0",step:"0.1",onInput:We},null,544),[[A,u(L),void 0,{number:!0}]])]),o("div",Cn,[o("label",Fn,[e[15]||(e[15]=R("最長長度: ")),o("span",Rn,_(u(M).toFixed(1)),1)]),F(o("input",{type:"range","onUpdate:modelValue":e[3]||(e[3]=n=>D(M)?M.value=n:null),min:"0.5",max:"5.0",step:"0.1",onInput:Ve},null,544),[[A,u(M),void 0,{number:!0}]])]),o("div",An,[o("label",Dn,[e[16]||(e[16]=R("收縮速率 (冪): ")),o("span",In,_(u(J).toFixed(2)),1)]),F(o("input",{type:"range","onUpdate:modelValue":e[4]||(e[4]=n=>D(J)?J.value=n:null),min:"0.1",max:"5.0",step:"0.05"},null,512),[[A,u(J),void 0,{number:!0}]])]),o("div",Un,[o("label",Nn,[e[17]||(e[17]=R("線條數量: ")),o("span",qn,_(u(b)),1)]),F(o("input",{type:"range","onUpdate:modelValue":e[5]||(e[5]=n=>D(b)?b.value=n:null),min:"0",max:"10",step:"1",onInput:se},null,544),[[A,u(b),void 0,{number:!0}]])])]),o("div",zn,[e[25]||(e[25]=o("div",{class:"panel-title"},"由細到粗 線條控制",-1)),o("div",Wn,[o("label",Vn,[e[19]||(e[19]=R("最細粗度 (強度): ")),o("span",On,_(u(N).toFixed(2)),1)]),F(o("input",{type:"range","onUpdate:modelValue":e[6]||(e[6]=n=>D(N)?N.value=n:null),min:"0.0",max:"0.1",step:"0.01",onInput:Oe},null,544),[[A,u(N),void 0,{number:!0}]])]),o("div",Bn,[o("label",Gn,[e[20]||(e[20]=R("最粗粗度 (強度): ")),o("span",Qn,_(u(q).toFixed(2)),1)]),F(o("input",{type:"range","onUpdate:modelValue":e[7]||(e[7]=n=>D(q)?q.value=n:null),min:"0",max:"0.1",step:"0.01",onInput:Be},null,544),[[A,u(q),void 0,{number:!0}]])]),o("div",Hn,[o("label",$n,[e[21]||(e[21]=R("最短長度: ")),o("span",Xn,_(u(T).toFixed(1)),1)]),F(o("input",{type:"range","onUpdate:modelValue":e[8]||(e[8]=n=>D(T)?T.value=n:null),min:"0.5",max:"5.0",step:"0.1",onInput:Ge},null,544),[[A,u(T),void 0,{number:!0}]])]),o("div",jn,[o("label",Jn,[e[22]||(e[22]=R("最長長度: ")),o("span",Kn,_(u(E).toFixed(1)),1)]),F(o("input",{type:"range","onUpdate:modelValue":e[9]||(e[9]=n=>D(E)?E.value=n:null),min:"0.5",max:"5.0",step:"0.1",onInput:Qe},null,544),[[A,u(E),void 0,{number:!0}]])]),o("div",Yn,[o("label",Zn,[e[23]||(e[23]=R("膨脹速率 (冪): ")),o("span",et,_(u(K).toFixed(2)),1)]),F(o("input",{type:"range","onUpdate:modelValue":e[10]||(e[10]=n=>D(K)?K.value=n:null),min:"0.1",max:"5.0",step:"0.05"},null,512),[[A,u(K),void 0,{number:!0}]])]),o("div",nt,[o("label",tt,[e[24]||(e[24]=R("線條數量: ")),o("span",ot,_(u(k)),1)]),F(o("input",{type:"range","onUpdate:modelValue":e[11]||(e[11]=n=>D(k)?k.value=n:null),min:"0",max:"10",step:"1",onInput:se},null,544),[[A,u(k),void 0,{number:!0}]])])]),o("div",lt,[e[26]||(e[26]=o("div",{class:"panel-title"},"通用控制",-1)),o("button",{onClick:se},"重新生成所有線條"),o("button",{onClick:Fe,style:{"margin-top":"5px"}},"匯出設定 (JSON)"),o("button",{onClick:Re,style:{"margin-top":"5px"}},"匯入設定 (JSON)"),o("input",{type:"file",ref_key:"importConfigFileRef",ref:ee,onChange:Ae,accept:".json",style:{display:"none"}},null,544),o("button",{onClick:De,style:{"margin-top":"5px"}},"下載目前模型 (GLB)")]),o("div",at,[e[30]||(e[30]=o("div",{class:"panel-title"},"快速切換",-1)),o("div",it,[o("label",st,_(u(S)==="shader"?"描邊材質":"液體材質"),1),o("label",rt,[o("input",{type:"checkbox",checked:u(S)==="liquid",onChange:Ie},null,40,ut),e[27]||(e[27]=o("span",{class:"slider round"},null,-1))])]),o("div",dt,[o("label",ct,_(u(H)?"流動中":"靜止"),1),o("label",pt,[o("input",{type:"checkbox",checked:u(H),onChange:Ue},null,40,mt),e[28]||(e[28]=o("span",{class:"slider round"},null,-1))])]),o("div",vt,[o("label",gt,_(u(Y)?"像素化":"正常"),1),o("label",ft,[o("input",{type:"checkbox",checked:u(Y),onChange:Ne},null,40,ht),e[29]||(e[29]=o("span",{class:"slider round"},null,-1))])])])]))}};export{Rt as default};
