import{r as h,H as et,o as tt,I as nt,t as ot,x as n,J as F,B as I,y as S,K as c,L as A,M as D,v as lt}from"./B_MDMm1d.js";import{S as at,C as pe,P as it,W as st,O as rt,A as ut,D as ct,a as dt,M as pt,b as vt,c as mt,d as gt,e as Me,V as ht,E as ft,f as wt,g as le,h as ve,i as yt}from"./GFrmpgK8.js";import{G as xt}from"./CIfMxH_z.js";import{E as St,R as bt,O as _t}from"./00I9isl8.js";const Lt={class:"splash-container"},Mt={id:"thickToThinPanel",class:"control-panel thick-to-thin-panel"},Tt={class:"control-group"},kt={class:"control-label"},Et={class:"value-display"},Pt={class:"control-group"},Ct={class:"control-label"},Rt={class:"value-display"},Ft={class:"control-group"},It={class:"control-label"},At={class:"value-display"},Dt={class:"control-group"},Ut={class:"control-label"},Wt={class:"value-display"},zt={class:"control-group"},Nt={class:"control-label"},Vt={class:"value-display"},qt={class:"control-group"},Bt={class:"control-label"},Ot={class:"value-display"},Gt={id:"thinToThickPanel",class:"control-panel thin-to-thick-panel"},Qt={class:"control-group"},Ht={class:"control-label"},$t={class:"value-display"},Jt={class:"control-group"},jt={class:"control-label"},Kt={class:"value-display"},Xt={class:"control-group"},Yt={class:"control-label"},Zt={class:"value-display"},en={class:"control-group"},tn={class:"control-label"},nn={class:"value-display"},on={class:"control-group"},ln={class:"control-label"},an={class:"value-display"},sn={class:"control-group"},rn={class:"control-label"},un={class:"value-display"},cn={id:"commonPanel",class:"control-panel common-panel"},dn={id:"switchPanel",class:"control-panel switch-panel"},pn={class:"switch-control-group"},vn={class:"switch-label"},mn={class:"switch"},gn=["checked"],hn={class:"switch-control-group"},fn={class:"switch-label"},wn={class:"switch"},yn=["checked"],xn={class:"switch-control-group"},Sn={class:"switch-label"},bn={class:"switch"},_n=["checked"],fe=5,Te=.15,ke=50,Ee=20,Pe=.1,Ln=.2,Mn=3,Tn=1,kn=.15,En=`
  uniform vec3 viewVector;
  uniform vec2 uResolution;
  uniform float uTime;
  varying vec2 vUv;
  varying float opacity;
  void main() {
    vUv = uv;
    vec4 mvPos = modelViewMatrix * vec4(position, 1.0);
    gl_Position = projectionMatrix * mvPos;
    vec3 nNormal = normalize(normalMatrix * normal);
    vec3 nView   = normalize(viewVector - mvPos.xyz);
    opacity = dot(nNormal, nView);
    opacity = 1.0 - abs(opacity * 1.3);
  }
`,Pn=`
  uniform vec3 uColor;
  uniform vec2 uResolution;
  uniform float uTime;
  varying vec2 vUv;
  varying float opacity;
  void main() {
    vec2 d = gl_FragCoord.xy / uResolution;
    vec3 fade = vec3(d.x, d.y, 1.0);
    vec3 c = mix(vec3(0.0), fade * uColor, opacity);
    gl_FragColor = vec4(c, 1.0);
  }
`,Un={__name:"ver2",setup(Cn){const j=h(null),te=h(null),U=h(.1),W=h(.01),k=h(2.5),E=h(3.5),K=h(.25),w=h(4),z=h(.01),N=h(.1),P=h(2),C=h(3),X=h(1.25),b=h(3),B=h(200),L=h("shader"),V=h(!1),Y=h(!1);let d,u,y,q,a,m,g,ne,Z,we,ye,x=[],f=[],M=[],T=[],$=[],O=null,ae=null,G=null,J=null,re=null,xe=2,me=0,ue=!1,R="idle";const Ce=Math.PI*4;function Re(){return{shader:new gt({uniforms:{uResolution:{value:new ht(window.innerWidth,window.innerHeight)},uTime:{value:0},uColor:{value:new pe(0)},viewVector:{value:u.position}},vertexShader:En,fragmentShader:Pn,transparent:!0,side:Me}),liquid:new mt({color:16777215,metalness:.9,roughness:0,transparent:!0,opacity:.25,side:Me,envMap:null})}}function Fe(){new ft().setPath("/hdr/").load("HDR_Light_Studio_Free_HDRI_Design_04.exr",o=>{o.mapping=wt;const e=ne.fromEquirectangular(o).texture;ne.dispose(),o.dispose(),console.log("本地 EXR 環境貼圖已載入並處理完成。"),d.environment=e,g&&g.liquid&&(g.liquid.envMap=e,g.liquid.needsUpdate=!0)},void 0,o=>{console.error("無法載入本地 EXR 環境貼圖:",o),alert("無法載入 assets/hdr/HDR_Light_Studio_Free_HDRI_Design_05.exr，請檢查檔案是否存在或路徑是否正確。")})}function ce(){var s,i;if(!m||!a)return;const o=m.getElapsedTime(),e=w.value+b.value;x.length=e,f.length=e,M.length=e,T.length=e,$.length=e;let t=0;for(let r=0;r<w.value;r++)f[t]||(f[t]=new le),(s=f[t])==null||s.set(Math.random()*2-1,Math.random()*2-1,Math.random()*2-1).normalize(),M[t]=ve.randFloat(k.value,E.value),T[t]="tt",x[t]=o,$[t]="growing",t++;for(let r=0;r<b.value;r++)f[t]||(f[t]=new le),(i=f[t])==null||i.set(Math.random()*2-1,Math.random()*2-1,Math.random()*2-1).normalize(),M[t]=ve.randFloat(P.value,C.value),T[t]="th",x[t]=o,$[t]="growing",t++;a.reset()}function Se(o){if(!m)return;o.reset();const e=m.getElapsedTime(),t=new le(.5,.5,.5),s=w.value+b.value;if(Je(e),ue){const i=Xe(e);i>.01&&o.addBall(t.x,t.y,t.z,i,Ee)}for(let i=0;i<s;i++){if(x[i]===void 0||e<x[i]||M[i]===void 0)continue;const r=M[i]/o.scale.x;let p=0,l=e-x[i];if(V.value){switch(R){case"growing":if(r>.001){const Q=fe*Pe,H=r/(Q/o.scale.x),ie=H>0?Math.min(l/H,1):1;p=Math.pow(ie,Te)*r}else p=0;break;case"pauseAtEnd":p=r;break;case"shrinking":if(G!==null&&J!==null){const Q=J-G,H=e-G,ie=Math.min(H/Q,1),se=Math.max(0,1-ie);p=r*se}else p=r;break;case"pauseAtStart":p=.001;break;default:p=0;break}$[i]=R}else if(r>.001){const Q=Math.min(l/(r/(fe/o.scale.x)),1);p=Math.pow(Q,Te)*r}else p=0;if(p<=.001)continue;const oe=f[i],_=T[i];if(!oe||!_)continue;let ee,v,ge;_==="tt"?(ee=U.value,v=W.value,ge=K.value):(ee=z.value,v=N.value,ge=X.value);for(let Q=0;Q<=ke;Q++){const H=Q/ke,ie=Math.pow(H,ge),se=ve.lerp(ee,v,ie);let de=se;if(V.value){const Ye=kn*se,Ze=Math.sin(e*Tn-H*Ce)*Ye;de+=Ze,de=Math.max(de,0)}const he=oe.clone().multiplyScalar(p*H).add(t);o.addBall(he.x,he.y,he.z,de,Ee)}}o.update()}function Ie(){if(!u)return;console.log("開始匯出設定...");const o=f.map(i=>i?{x:i.x,y:i.y,z:i.z}:null),e={x:u.position.x,y:u.position.y,z:u.position.z},t={x:u.quaternion.x,y:u.quaternion.y,z:u.quaternion.z,w:u.quaternion.w},s={ttStartStrength:U.value,ttEndStrength:W.value,ttMinWorldLength:k.value,ttMaxWorldLength:E.value,ttShrinkPower:K.value,ttNumLines:w.value,thStartStrength:z.value,thEndStrength:N.value,thMinWorldLength:P.value,thMaxWorldLength:C.value,thShrinkPower:X.value,thNumLines:b.value,resolution:B.value,currentMaterial:L.value,lineTypes:T,randomDirections:o,currentTargetLengths:M,cameraPosition:e,cameraQuaternion:t};try{const i=JSON.stringify(s,null,2),r=new Blob([i],{type:"application/json"}),p=URL.createObjectURL(r),l=document.createElement("a");l.href=p,l.download="metaball_config.json",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(p),console.log("設定已匯出為 metaball_config.json")}catch(i){console.error("匯出設定失敗:",i),alert("匯出設定失敗！")}}function Ae(){var o;(o=te.value)==null||o.click()}function De(o){var s,i;console.log("開始匯入設定...");const e=(i=(s=o.target)==null?void 0:s.files)==null?void 0:i[0];if(!e){console.log("未選擇檔案。");return}const t=new FileReader;t.onload=function(r){var p;try{const l=JSON.parse((p=r.target)==null?void 0:p.result);if(console.log("讀取的設定:",l),!l||typeof l!="object")throw new Error("無效的設定檔格式");const oe=["ttStartStrength","thStartStrength","resolution","lineTypes","randomDirections","currentTargetLengths","cameraPosition","cameraQuaternion"];for(const v of oe)if(!(v in l))throw new Error(`缺少必要欄位: ${v}`);if(!("ttNumLines"in l)||!("thNumLines"in l))throw new Error("缺少必要欄位: ttNumLines or thNumLines");const _=l.ttNumLines+l.thNumLines;if(!Array.isArray(l.lineTypes)||l.lineTypes.length!==_||!Array.isArray(l.randomDirections)||l.randomDirections.length!==_||!Array.isArray(l.currentTargetLengths)||l.currentTargetLengths.length!==_)throw new Error("線條數據數量與線條總數不符");U.value=l.ttStartStrength,W.value=l.ttEndStrength,k.value=l.ttMinWorldLength,E.value=l.ttMaxWorldLength,K.value=l.ttShrinkPower,w.value=l.ttNumLines,z.value=l.thStartStrength,N.value=l.thEndStrength,P.value=l.thMinWorldLength,C.value=l.thMaxWorldLength,X.value=l.thShrinkPower,b.value=l.thNumLines,B.value=l.resolution,L.value=l.currentMaterial||"shader",a&&(a.material=g[L.value],be()),u&&q&&(l.cameraPosition&&u.position.set(l.cameraPosition.x,l.cameraPosition.y,l.cameraPosition.z),l.cameraQuaternion&&u.quaternion.set(l.cameraQuaternion.x??l.cameraQuaternion._x,l.cameraQuaternion.y??l.cameraQuaternion._y,l.cameraQuaternion.z??l.cameraQuaternion._z,l.cameraQuaternion.w??l.cameraQuaternion._w),q.update());const ee=(m==null?void 0:m.getElapsedTime())??0;x.length=_,f.length=_,M.length=_,T.length=_;for(let v=0;v<_;v++)T[v]=l.lineTypes[v],M[v]=l.currentTargetLengths[v],l.randomDirections[v]?f[v]=new le(l.randomDirections[v].x,l.randomDirections[v].y,l.randomDirections[v].z):f[v]=null,x[v]=ee,$[v]="growing";a==null||a.reset(),console.log("設定已成功匯入。"),alert("設定已載入！")}catch(l){console.error("匯入設定失敗:",l),alert(`匯入設定失敗！錯誤: ${l.message}`)}finally{te.value&&(te.value.value="")}},t.onerror=function(r){console.error("讀取檔案錯誤:",r),alert("讀取檔案時發生錯誤。"),te.value&&(te.value.value="")},t.readAsText(e)}function Ue(){if(!a||!u)return;console.log("開始匯出 GLB (應用視角)...");const o=B.value,e=a.quaternion.clone(),t=new xt;try{console.log(`  - 使用目前解析度: ${o}`),a.init(o),console.log("  - 重新計算模型..."),Se(a),console.log("  - 模型計算完成."),console.log("  - 應用反向攝影機旋轉...");const s=u.quaternion.clone().invert();a.quaternion.premultiply(s),a.updateMatrixWorld(!0),console.log("  - 反向旋轉已應用."),t.parse(a,i=>{if(i instanceof ArrayBuffer)try{const r=new Blob([i],{type:"model/gltf-binary"}),p=URL.createObjectURL(r),l=document.createElement("a");l.href=p,l.download=`metaball_model_view_res${o}.glb`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(p),console.log(`GLB 檔案已匯出: metaball_model_view_res${o}.glb`),alert(`模型 (含視角, res ${o}) GLB 已下載！`)}catch(r){console.error("建立或下載 GLB Blob 時出錯:",r),alert("下載 GLB 時發生錯誤！")}else console.error("匯出結果不是預期的 ArrayBuffer:",i),alert("匯出 GLB 失敗：格式錯誤。請檢查控制台。");console.log("  - (成功) 恢復原始模型旋轉..."),a.quaternion.copy(e),a.updateMatrixWorld(!0),console.log("  - 模型旋轉已恢復.")},i=>{console.error("匯出 GLB 時發生錯誤:",i),alert("匯出 GLB 時發生錯誤！請檢查控制台。"),console.log("  - (錯誤) 恢復原始模型旋轉..."),a.quaternion.copy(e),a.updateMatrixWorld(!0),console.log("  - 模型旋轉已恢復.")},{binary:!0})}catch(s){console.error("準備匯出或應用旋轉時出錯:",s),alert("準備匯出模型時發生錯誤！"),console.log("  - (Catch) 恢復原始模型旋轉..."),a.quaternion.copy(e),a.updateMatrixWorld(!0),console.log("  - 模型旋轉已恢復.")}}function We(){!a||!d||(L.value==="shader"?(L.value="liquid",d.background instanceof pe&&d.background.set(1118481)):(L.value="shader",d.background instanceof pe&&d.background.set(16777215)),a.material=g[L.value],console.log(`材質已切換為: ${L.value}, 背景顏色已更新.`))}function ze(){if(!(!m||!a||!u||!q)){if(V.value)V.value=!1,R="idle",G=null,J=null,re=null,ue=!1,console.log("流動動畫已停止，正在恢復狀態..."),O?(w.value=O.ttNumLines,b.value=O.thNumLines,T=[...O.lineTypes],f=O.randomDirections.map(o=>o?new le(o.x,o.y,o.z):null),M=[...O.currentTargetLengths],x=[...O.lineStartTimes],$=T.map(()=>"growing"),console.log("線條狀態已恢復"),O=null):console.warn("找不到保存的狀態來恢復。"),ae?(u.position.copy(ae.position),u.quaternion.copy(ae.quaternion),q.update(),console.log("相機狀態已恢復"),ae=null):console.warn("找不到保存的相機狀態來恢復。"),a.reset();else{console.log("開始流動動畫，正在保存當前狀態..."),O={ttNumLines:w.value,thNumLines:b.value,lineTypes:[...T],randomDirections:f.map(t=>t?{x:t.x,y:t.y,z:t.z}:null),currentTargetLengths:[...M],lineStartTimes:[...x]},ae={position:u.position.clone(),quaternion:u.quaternion.clone()},console.log("狀態已保存。"),V.value=!0,R="growing",re=m.getElapsedTime();const o=m.getElapsedTime(),e=w.value+b.value;$.length=e,console.log("所有線條同時開始生長。");for(let t=0;t<e;t++)x[t]=o,$[t]="growing";a.reset()}a.material=g[L.value]}}function Ne(){!a||!d||(Y.value=!Y.value,console.log(`像素化狀態已切換為: ${Y.value}`))}function Ve(){U.value<W.value&&(W.value=U.value)}function qe(){W.value>U.value&&(U.value=W.value)}function Be(){k.value>E.value&&(E.value=k.value)}function Oe(){E.value<k.value&&(k.value=E.value)}function Ge(){z.value>N.value&&(N.value=z.value)}function Qe(){N.value<z.value&&(z.value=N.value)}function He(){P.value>C.value&&(C.value=P.value)}function $e(){C.value<P.value&&(P.value=C.value)}function be(){if(a){const o=B.value*1.5;a.init(B.value),a.isolation=o,console.log(`Marching Cubes params updated: resolution=${B.value}, derivedIsolation=${o}`)}}et(B,be);function _e(){if(ye=requestAnimationFrame(_e),!(!a||!g||!u||!y||!d||!q)){if(Se(a),q.update(),L.value==="shader"&&!Y.value){const o=m.getElapsedTime();g.shader.uniforms.uTime.value=o,g.shader.uniforms.viewVector.value=u.position}Y.value&&Z?Z.render():y.render(d,u)}}function Le(){var t,s;if(!u||!y||!g)return;const o=((t=j.value)==null?void 0:t.clientWidth)??window.innerWidth,e=((s=j.value)==null?void 0:s.clientHeight)??window.innerHeight;u.aspect=o/e,u.updateProjectionMatrix(),y.setSize(o,e),Z&&Z.setSize(o,e),g.shader&&g.shader.uniforms.uResolution.value.set(o,e)}tt(()=>{if(!j.value){console.error("Canvas container not found!");return}const o=j.value,e=o.clientWidth,t=o.clientHeight;d=new at,d.background=new pe(16777215),u=new it(45,e/t,.1,1e3),u.position.set(0,0,30),u.lookAt(d.position),y=new st({antialias:!0}),y.setSize(e,t),y.setPixelRatio(Math.min(window.devicePixelRatio,1.5)),o.appendChild(y.domElement),q=new rt(u,y.domElement),q.enableDamping=!0,d.add(new ut(16777215,.3));const s=new ct(16777215,.5);s.position.set(5,10,7.5),d.add(s),ne=new dt(y),ne.compileEquirectangularShader(),g=Re();const i=B.value*1.5;a=new pt(B.value,g[L.value],!0,!0,1e5),a.isolation=i,a.scale.set(8,8,8),a.enableUvs=!1,a.enableColors=!1,d.add(a),Z=new St(y),we=new bt(10,d,u),Z.addPass(we);const r=new _t;Z.addPass(r),m=new yt,Fe(),ce(),_e(),window.addEventListener("resize",Le)}),nt(()=>{var o,e;cancelAnimationFrame(ye),window.removeEventListener("resize",Le),q&&q.dispose(),y&&y.dispose(),g&&((o=g.shader)==null||o.dispose(),(e=g.liquid)==null||e.dispose(),d!=null&&d.environment&&d.environment.dispose()),a&&(d==null||d.remove(a)),d&&d.traverse(t=>{var s;if(t instanceof vt){(s=t.geometry)==null||s.dispose();const i=t.material;Array.isArray(i)?i.forEach(r=>r.dispose()):i&&i.dispose()}}),ne&&ne.dispose(),j.value&&y&&j.value.removeChild(y.domElement),console.log("Three.js scene cleaned up.")});function Je(o){if(!(!V.value||!m))if(R==="growing"&&re!==null){const e=w.value+b.value;let t=0,s=0;for(let r=0;r<e;r++){if(x[r]===void 0||M[r]===void 0)continue;s++;const p=M[r]/((a==null?void 0:a.scale.x)||1),l=o-(x[r]||o),oe=fe*Pe,_=p/(oe/((a==null?void 0:a.scale.x)||1)),ee=_>0?Math.min(l/_,1):1;t+=ee}(s>0?t/s:0)>=.99&&(R="pauseAtEnd",console.log("所有線條已生長完成，進入暫停狀態"),setTimeout(()=>{V.value&&je()},1e3))}else R==="shrinking"&&G!==null&&J!==null&&o>=J&&(R="pauseAtStart",console.log("所有線條已收合完成，進入起始暫停狀態"),setTimeout(()=>{V.value&&Ke()},1e3))}function je(){if(!m)return;const o=m.getElapsedTime();console.log("所有線條同步收合"),R="shrinking",G=o,J=o+Mn*Ln,ue=!0}function Ke(){var t;if(!m)return;const o=m.getElapsedTime(),e=w.value+b.value;console.log("所有線條同步生長"),R="growing",re=o,ue=!1;for(let s=0;s<e;s++){if(x[s]===void 0)continue;f[s]||(f[s]=new le),(t=f[s])==null||t.set(Math.random()*2-1,Math.random()*2-1,Math.random()*2-1).normalize(),T[s]=s<w.value?"tt":"th";const i=T[s]==="tt"?k.value:P.value,r=T[s]==="tt"?E.value:C.value;M[s]=ve.randFloat(i,r),x[s]=o}}function Xe(o){if(!m||G===null||J===null)return 0;if(o===void 0&&(o=m.getElapsedTime()),R==="shrinking"){const e=J-G,t=o-G,s=Math.min(t/e,1);return me+s*(xe-me)}else return R==="pauseAtStart"?xe:me}return(o,e)=>(lt(),ot("div",Lt,[n("div",{ref_key:"canvasContainer",ref:j,class:"canvas-container"},null,512),n("div",Mt,[e[18]||(e[18]=n("div",{class:"panel-title"},"由粗到細 線條控制",-1)),n("div",Tt,[n("label",kt,[e[12]||(e[12]=I("最粗粗度 (強度): ")),n("span",Et,S(c(U).toFixed(2)),1)]),F(n("input",{type:"range","onUpdate:modelValue":e[0]||(e[0]=t=>D(U)?U.value=t:null),min:"0",max:"0.1",step:"0.01",onInput:Ve},null,544),[[A,c(U),void 0,{number:!0}]])]),n("div",Pt,[n("label",Ct,[e[13]||(e[13]=I("最細粗度 (強度): ")),n("span",Rt,S(c(W).toFixed(2)),1)]),F(n("input",{type:"range","onUpdate:modelValue":e[1]||(e[1]=t=>D(W)?W.value=t:null),min:"0.0",max:"0.1",step:"0.01",onInput:qe},null,544),[[A,c(W),void 0,{number:!0}]])]),n("div",Ft,[n("label",It,[e[14]||(e[14]=I("最短長度: ")),n("span",At,S(c(k).toFixed(1)),1)]),F(n("input",{type:"range","onUpdate:modelValue":e[2]||(e[2]=t=>D(k)?k.value=t:null),min:"0.5",max:"5.0",step:"0.1",onInput:Be},null,544),[[A,c(k),void 0,{number:!0}]])]),n("div",Dt,[n("label",Ut,[e[15]||(e[15]=I("最長長度: ")),n("span",Wt,S(c(E).toFixed(1)),1)]),F(n("input",{type:"range","onUpdate:modelValue":e[3]||(e[3]=t=>D(E)?E.value=t:null),min:"0.5",max:"5.0",step:"0.1",onInput:Oe},null,544),[[A,c(E),void 0,{number:!0}]])]),n("div",zt,[n("label",Nt,[e[16]||(e[16]=I("收縮速率 (冪): ")),n("span",Vt,S(c(K).toFixed(2)),1)]),F(n("input",{type:"range","onUpdate:modelValue":e[4]||(e[4]=t=>D(K)?K.value=t:null),min:"0.1",max:"5.0",step:"0.05"},null,512),[[A,c(K),void 0,{number:!0}]])]),n("div",qt,[n("label",Bt,[e[17]||(e[17]=I("線條數量: ")),n("span",Ot,S(c(w)),1)]),F(n("input",{type:"range","onUpdate:modelValue":e[5]||(e[5]=t=>D(w)?w.value=t:null),min:"0",max:"10",step:"1",onInput:ce},null,544),[[A,c(w),void 0,{number:!0}]])])]),n("div",Gt,[e[25]||(e[25]=n("div",{class:"panel-title"},"由細到粗 線條控制",-1)),n("div",Qt,[n("label",Ht,[e[19]||(e[19]=I("最細粗度 (強度): ")),n("span",$t,S(c(z).toFixed(2)),1)]),F(n("input",{type:"range","onUpdate:modelValue":e[6]||(e[6]=t=>D(z)?z.value=t:null),min:"0.0",max:"0.1",step:"0.01",onInput:Ge},null,544),[[A,c(z),void 0,{number:!0}]])]),n("div",Jt,[n("label",jt,[e[20]||(e[20]=I("最粗粗度 (強度): ")),n("span",Kt,S(c(N).toFixed(2)),1)]),F(n("input",{type:"range","onUpdate:modelValue":e[7]||(e[7]=t=>D(N)?N.value=t:null),min:"0",max:"0.1",step:"0.01",onInput:Qe},null,544),[[A,c(N),void 0,{number:!0}]])]),n("div",Xt,[n("label",Yt,[e[21]||(e[21]=I("最短長度: ")),n("span",Zt,S(c(P).toFixed(1)),1)]),F(n("input",{type:"range","onUpdate:modelValue":e[8]||(e[8]=t=>D(P)?P.value=t:null),min:"0.5",max:"5.0",step:"0.1",onInput:He},null,544),[[A,c(P),void 0,{number:!0}]])]),n("div",en,[n("label",tn,[e[22]||(e[22]=I("最長長度: ")),n("span",nn,S(c(C).toFixed(1)),1)]),F(n("input",{type:"range","onUpdate:modelValue":e[9]||(e[9]=t=>D(C)?C.value=t:null),min:"0.5",max:"5.0",step:"0.1",onInput:$e},null,544),[[A,c(C),void 0,{number:!0}]])]),n("div",on,[n("label",ln,[e[23]||(e[23]=I("膨脹速率 (冪): ")),n("span",an,S(c(X).toFixed(2)),1)]),F(n("input",{type:"range","onUpdate:modelValue":e[10]||(e[10]=t=>D(X)?X.value=t:null),min:"0.1",max:"5.0",step:"0.05"},null,512),[[A,c(X),void 0,{number:!0}]])]),n("div",sn,[n("label",rn,[e[24]||(e[24]=I("線條數量: ")),n("span",un,S(c(b)),1)]),F(n("input",{type:"range","onUpdate:modelValue":e[11]||(e[11]=t=>D(b)?b.value=t:null),min:"0",max:"10",step:"1",onInput:ce},null,544),[[A,c(b),void 0,{number:!0}]])])]),n("div",cn,[e[26]||(e[26]=n("div",{class:"panel-title"},"通用控制",-1)),n("button",{onClick:ce},"重新生成所有線條"),n("button",{onClick:Ie,style:{"margin-top":"5px"}},"匯出設定 (JSON)"),n("button",{onClick:Ae,style:{"margin-top":"5px"}},"匯入設定 (JSON)"),n("input",{type:"file",ref_key:"importConfigFileRef",ref:te,onChange:De,accept:".json",style:{display:"none"}},null,544),n("button",{onClick:Ue,style:{"margin-top":"5px"}},"下載目前模型 (GLB)")]),n("div",dn,[e[30]||(e[30]=n("div",{class:"panel-title"},"快速切換",-1)),n("div",pn,[n("label",vn,S(c(L)==="shader"?"描邊材質":"液體材質"),1),n("label",mn,[n("input",{type:"checkbox",checked:c(L)==="liquid",onChange:We},null,40,gn),e[27]||(e[27]=n("span",{class:"slider round"},null,-1))])]),n("div",hn,[n("label",fn,S(c(V)?"流動中":"靜止"),1),n("label",wn,[n("input",{type:"checkbox",checked:c(V),onChange:ze},null,40,yn),e[28]||(e[28]=n("span",{class:"slider round"},null,-1))])]),n("div",xn,[n("label",Sn,S(c(Y)?"像素化":"正常"),1),n("label",bn,[n("input",{type:"checkbox",checked:c(Y),onChange:Ne},null,40,_n),e[29]||(e[29]=n("span",{class:"slider round"},null,-1))])])])]))}};export{Un as default};
