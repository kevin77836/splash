{"file":"index-C2V-u4s-.js","mappings":";;;;;;;;AAmKI,UAAM,EAAE,OAAO,OAAO,IAAI,cAAc;AAOlC,UAAA,YAAY,IAAI,IAAI;AACpB,UAAA,eAAe,IAAI,KAAK;AACxB,UAAA,eAAe,IAAI,MAAM;AACzB,UAAA,gBAAgB,IAAI,KAAK;AACzB,UAAA,YAAY,IAAI,KAAK;AACrB,UAAA,aAAa,IAAI,KAAK;AACtB,UAAA,gBAAgB,IAAI,IAAI;AAgK9B,UAAM,kBAAkB,MAAM;AAC1B,UAAI,UAAU,OAAO;AACjB,kBAAU,MAAM,sBAAsB;AAAA,MAAA;AAAA,IAE9C;AAEA,UAAM,oBAAoB,MAAM;AAC5B,UAAI,UAAU,OAAO;AACjB,kBAAU,MAAM,wBAAwB;AAAA,MAAA;AAAA,IAEhD;AAeA,UAAM,wBAAwB,MAAM;AAChC,mBAAa,QAAQ;AAAA,IACzB;AAGM,UAAA,oBAAoB,CAAC,UAAU;AACjC,mBAAa,QAAQ;AAAA,IACzB;AAGM,UAAA,0BAA0B,CAAC,kBAAkB;AAC3C,UAAA,CAAC,cAAc,MAAO;AAE1B,UAAI,kBAAkB,WAAW;AAEb,mBAAW,MAAM;AACX,4BAAA;AAAA,WACnB,CAAC;AAAA,MAAA,WACG,kBAAkB,aAAa;AAEtB,mBAAW,MAAM;AACb,0BAAA;AAAA,WACjB,GAAI;AAAA,MAAA;AAAA,IAEf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["../../../../pages/index.vue"],"sourcesContent":["<template>\n    <div class=\"main-container\">\n        <div class=\"main-section\">\n            <div v-if=\"loadComplete && !isStarted\" class=\"startButton\" @click=\"clickStart\">\n                Start\n            </div>\n      \n            <h1 :class=\"{'hidden': !isLandingPage || (isLandingPage && !isStarted)}\" class=\"company-name\">\n            <!-- <span class=\"front-name\">\n            Splash\n            </span>\n            <span class=\"back-name\">\n            DigiLab\n                </span> -->\n            </h1>\n        </div>\n        <div v-if=\"isStarted\" class=\"section gap-section\"></div>\n        <div v-if=\"isStarted\" class=\"section aboutUs-section\">\n            <div class=\"aboutUs-marquee\">\n                <div class=\"aboutUs-marquee-content-group\">\n                    <span class=\"aboutUs-marquee-content-group-item\">Splash DigiLab</span>\n                    <span class=\"aboutUs-marquee-content-group-item\">斯巴拉系數位互動</span>\n                    <span class=\"aboutUs-marquee-content-group-item\">素晴らしいデジタルインタラクション</span>\n                </div>\n                <div class=\"aboutUs-marquee-content-group2\">\n                    <span class=\"aboutUs-marquee-content-group-item\">Splash DigiLab</span>\n                    <span class=\"aboutUs-marquee-content-group-item\">斯巴拉系數位互動</span>\n                    <span class=\"aboutUs-marquee-content-group-item\">素晴らしいデジタルインタラクション</span>\n                </div>\n            </div>\n            <div class=\"aboutUs-content-group\">\n                <div class=\"aboutUs-section-content aboutUs-section-content-1\">\n                    <span class=\"aboutUs-section-content-1-1\">123</span>\n                    <span class=\"aboutUs-section-content-1-2\">456</span>\n                </div>\n                <div class=\"aboutUs-section-content aboutUs-section-content-2\">\n                    <span class=\"aboutUs-section-content-2-1\">789</span>\n                    <span class=\"aboutUs-section-content-2-2\">012</span>\n                </div>\n                <div class=\"aboutUs-section-content aboutUs-section-content-3\">\n                    <span class=\"aboutUs-section-content-3-1\">345</span>\n                    <span class=\"aboutUs-section-content-3-2\">678</span>\n                </div>\n            </div>\n        </div>\n        <div v-if=\"isStarted\" class=\"section ourWorks-section\">\n        </div>\n        <div v-if=\"isStarted\" class=\"section section4\">\n        </div>\n        <div v-if=\"isStarted\" class=\"section section5\">\n        </div>\n        <div v-if=\"isStarted\" class=\"section section6\">\n        </div>\n        <div v-if=\"isStarted\" class=\"section section7\">\n        </div>\n        <div v-if=\"isStarted\" class=\"section section8\">\n        </div>\n        <div v-if=\"isStarted\" class=\"section section9\">\n        </div>\n        <div v-if=\"isStarted\" class=\"section ourWorks-section\">\n        </div>\n        <div v-if=\"isStarted\" class=\"section section10\">\n        </div>\n        <div v-if=\"isStarted\" class=\"section section11\">\n        </div>\n        <div v-if=\"isStarted\" class=\"section section12\">\n        </div>\n        <div v-if=\"isStarted\" class=\"section section13\">\n        </div>\n        <div v-if=\"isStarted\" class=\"section section14\">\n        </div>\n        <div v-if=\"isStarted\" class=\"section section15\">\n        </div>\n        <div v-if=\"isStarted\" class=\"section section16\">\n        </div>\n        <div v-if=\"isStarted\" class=\"section contactUsSection\">\n        </div>\n    </div>\n    <Splash\n    ref=\"splashRef\" \n    @resourcesLoaded=\"handleResourcesLoaded\"\n    @stateChange=\"handleStateChange\"\n    @animationComplete=\"handleAnimationComplete\"\n    />\n    <div :class=\"{'active': isStarted && isLandingPage}\" class=\"l-footer\">\n        <div class=\"desktop-group\">\n            <div class=\"footer-saparator\">\n                <div class=\"footer-saparator-line\"></div>\n            </div>\n            <div class=\"footer-link\">\n                Let's Make a Splash\n            </div>\n            <div class=\"footer-saparator\">\n                <div class=\"footer-saparator-line\"></div>\n            </div>\n        </div>        \n    </div>\n    <div :class=\"{'active': isStarted}\" class=\"l-header\">\n        <div class=\"desktop-group\">\n            <div class=\"header-link\" :class=\"{'hidden': isLandingPage}\">\n                Splash DigiLab\n            </div>\n            <div class=\"header-saparator\" :class=\"{'hidden': isLandingPage}\">\n                <div class=\"header-saparator-line\"></div>\n            </div>\n            <div class=\"header-link\" @click=\"scrollToSection('aboutUs-section')\">\n                About Us\n            </div>\n            <div class=\"header-saparator\" :class=\"{'hidden': !isLandingPage}\">\n                <div class=\"header-saparator-line\"></div>\n            </div>\n            <div class=\"header-link\" @click=\"scrollToSection('ourWorks-section')\">\n                Our Works\n            </div>\n            <div class=\"header-saparator\" :class=\"{'hidden': !isLandingPage}\">\n                <div class=\"header-saparator-line\"></div>\n            </div>\n            <div class=\"header-link\" @click=\"scrollToSection('contactUsSection')\">\n                Contact Us\n            </div>\n        </div>\n\n        <!-- 漢堡選單按鈕 -->\n        <div class=\"mobile-group\">\n            <div class=\"header-link\" :class=\"{'hidden': isLandingPage}\">Splash DigiLab</div>\n            <div class=\"header-saparator\">\n                <div class=\"header-saparator-line\"></div>\n            </div>\n            <div class=\"hamburger-menu\" @click=\"toggleMenu\">\n                <div :class=\"{'open': isMenuOpen}\" class=\"hamburger-icon\">\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                </div>\n            </div>\n        </div>\n        <!-- 行動裝置選單 -->\n        <div :class=\"{'active': isMenuOpen}\" class=\"mobile-menu\">\n            <div class=\"menu-item\" @click=\"scrollToSection('aboutUs-section', true)\">\n                About Us\n            </div>\n            <div class=\"menu-item\" @click=\"scrollToSection('ourWorks-section', true)\">\n                Our Works\n            </div>\n            <div class=\"menu-item\" @click=\"scrollToSection('contactUsSection', true)\">\n                Contact Us\n            </div>\n        </div>\n    </div>\n        <!-- <div class=\"button-group\" style=\"top: 1rem; position: fixed;\">\n        <button @click=\"growingFunction\">開始生長</button>\n        <button @click=\"shrinkingFunction\">開始收合</button>\n        <button @click=\"startAutoPlay\">開始自動播放</button>\n        <button @click=\"stopAutoPlay\">停止自動播放</button>\n        <div class=\"status\">狀態: {{ currentState }}</div>\n        <div class=\"status\">資源狀態: {{ loadComplete ? '已載入' : '載入中' }}</div>\n        <div class=\"status\">自動播放: {{ isAutoPlaying ? '進行中' : '停止' }}</div>\n        </div> -->\n</template>\n<script setup>\n    import gsap from 'gsap';\n    import { ScrollTrigger } from 'gsap/ScrollTrigger';\n    import { useWindowSize } from '@vueuse/core'\n    const { width, height } = useWindowSize();\n    \n    // 註冊 ScrollTrigger 插件\n    if (process.client) {\n        gsap.registerPlugin(ScrollTrigger);\n    }\n    \n    const splashRef = ref(null);\n    const loadComplete = ref(false);\n    const currentState = ref('idle');\n    const isAutoPlaying = ref(false);\n    const isStarted = ref(false);\n    const isMenuOpen = ref(false);\n    const isLandingPage = ref(true);\n    let autoPlayTimer = null;\n    \n    \n    // 設置 ScrollTrigger 動畫\n    const setupScrollAnimations = () => {\n        // 確保所有區塊已經渲染\n        if (process.client) {\n            nextTick(() => {\n                // 定義所有區塊的配置\n                const sectionConfigs = [\n                    {\n                        trigger: '.gap-section',\n                        start: 'top 80%',\n                        markers: false,\n                        onEnter: () => {\n                            stopAutoPlay();\n                            animateTextToOrigin();\n                            isLandingPage.value = false;\n                        },\n                        onLeaveBack: () => {\n                            startAutoPlay();\n                            animateTextToTargetPosition();\n                            isLandingPage.value = true;\n                        },\n                    },\n                    {\n                        trigger: '.ourWorks-section',\n                        start: 'top 80%',\n                        markers: false,\n                        onEnter: () => growingFunction(),\n                        onLeaveBack: () => shrinkingFunction(),\n                    },\n                    // {\n                    //     trigger: '.section3',\n                    //     start: 'center center',\n                    //     endTrigger: '.section6',\n                    //     end: 'center center',\n                    //     markers: false,\n                    //     scrub: 2,\n                    //     onUpdate: (self) => {\n                    //         updatePosition(0, 0, 0, 0, -5, 0, self.progress);\n                    //     }\n                    // },\n                ];\n                // 為每個配置創建相應的 ScrollTrigger\n                sectionConfigs.forEach(config => {\n                    gsap.timeline({\n                        scrollTrigger: {\n                            trigger: config.trigger,\n                            start: config.start,\n                            end: config.end,\n                            endTrigger: config.endTrigger,\n                            scrub: config.scrub,\n                            markers: config.markers,\n                            onEnter: config.onEnter,\n                            onLeaveBack: config.onLeaveBack,\n                            onUpdate: config.onUpdate\n                        }\n                    });\n                });\n\n                gsap.to('.aboutUs-section-content-1-1', {\n                    scrollTrigger: {\n                      trigger: '.aboutUs-section',   // 以整個 aboutUs-section 為觸發區\n                      start: '5% 80%',              // 滾動到 section 頂部到視口 80% 時開始\n                      end: '10% 80%',             // 滾動到 section 底部到視口 20% 時結束\n                      scrub: 2,                   // 跟隨滾動進度               // 方便調試，完成後可設為 false\n                    },\n                    opacity: 1,                      // 漸變到完全不透明\n                    filter: 'blur(0px)',             // 漸變到清晰\n                    ease: 'none'                     // 線性變化\n                });\n                gsap.to('.aboutUs-section-content-1-2', {\n                    scrollTrigger: {\n                      trigger: '.aboutUs-section',   // 以整個 aboutUs-section 為觸發區\n                      start: '15% 80%',              // 滾動到 section 頂部到視口 80% 時開始\n                      end: '20% 80%',             // 滾動到 section 底部到視口 20% 時結束\n                      scrub: 2,                   // 跟隨滾動進度\n                    },\n                    opacity: 1,                      // 漸變到完全不透明\n                    filter: 'blur(0px)',             // 漸變到清晰\n                    ease: 'none'                     // 線性變化\n                });\n                gsap.to('.aboutUs-section-content-2-1', {\n                    scrollTrigger: {\n                      trigger: '.aboutUs-section',   // 以整個 aboutUs-section 為觸發區\n                      start: '25% 80%',              // 滾動到 section 頂部到視口 80% 時開始\n                      end: '30% 80%',             // 滾動到 section 底部到視口 20% 時結束\n                      scrub: 2,                   // 跟隨滾動進度\n                    },\n                    opacity: 1,                      // 漸變到完全不透明\n                    filter: 'blur(0px)',             // 漸變到清晰\n                    ease: 'none'                     // 線性變化\n                });\n                gsap.to('.aboutUs-section-content-2-2', {\n                    scrollTrigger: {\n                      trigger: '.aboutUs-section',   // 以整個 aboutUs-section 為觸發區\n                      start: '35% 80%',              // 滾動到 section 頂部到視口 80% 時開始\n                      end: '40% 80%',             // 滾動到 section 底部到視口 20% 時結束\n                      scrub: 2,                   // 跟隨滾動進度\n                    },\n                    opacity: 1,                      // 漸變到完全不透明\n                    filter: 'blur(0px)',             // 漸變到清晰\n                    ease: 'none'                     // 線性變化\n                });\n                gsap.to('.aboutUs-section-content-3-1', {\n                    scrollTrigger: {\n                      trigger: '.aboutUs-section',   // 以整個 aboutUs-section 為觸發區\n                      start: '45% 80%',              // 滾動到 section 頂部到視口 80% 時開始\n                      end: '50% 80%',             // 滾動到 section 底部到視口 20% 時結束\n                      scrub: 2,                   // 跟隨滾動進度\n                    },\n                    opacity: 1,                      // 漸變到完全不透明\n                    filter: 'blur(0px)',             // 漸變到清晰\n                    ease: 'none'                     // 線性變化\n                });\n                gsap.to('.aboutUs-section-content-3-2', {\n                    scrollTrigger: {\n                      trigger: '.aboutUs-section',   // 以整個 aboutUs-section 為觸發區\n                      start: '55% 80%',              // 滾動到 section 頂部到視口 80% 時開始\n                      end: '60% 80%',             // 滾動到 section 底部到視口 20% 時結束\n                      scrub: 2,                   // 跟隨滾動進度\n                    },\n                    opacity: 1,                      // 漸變到完全不透明\n                    filter: 'blur(0px)',             // 漸變到清晰\n                    ease: 'none'                     // 線性變化\n                });\n                gsap.to('.aboutUs-content-group', {\n                    scrollTrigger: {\n                      trigger: '.aboutUs-section',   // 以整個 aboutUs-section 為觸發區\n                      start: '80% 80%',              // 滾動到 section 頂部到視口 80% 時開始\n                      end: 'bottom bottom',             // 滾動到 section 底部到視口 20% 時結束\n                      scrub: 0,                   // 跟隨滾動進度\n                      markers: false,\n                    },\n                    transform: 'scale(100)',\n                    '--before-blur': '0px',\n                    opacity: 0,\n                    ease: 'none'                     // 線性變化\n                });\n                \n\n            });\n        }\n    };\n\n    const updatePosition = (fromX, fromY, fromZ, toX, toY, toZ, progress) => {\n        if (splashRef.value) {\n            const x = (toX - fromX) * progress;\n            const y = (toY - fromY) * progress;\n            const z = (toZ - fromZ) * progress;\n            const offsetX = fromX + x;\n            const offsetY = fromY + y;\n            const offsetZ = fromZ + z;\n            splashRef.value.updatePosition(offsetX, offsetY, offsetZ);\n        }\n    }\n    \n    // 基本動畫控制函數\n    const growingFunction = () => {\n        if (splashRef.value) {\n            splashRef.value.startGrowingAnimation();\n        }\n    }\n    \n    const shrinkingFunction = () => {\n        if (splashRef.value) {\n            splashRef.value.startShrinkingAnimation();\n        }\n    }\n\n    const animateTextToTargetPosition = () => {\n        if (splashRef.value) {\n            splashRef.value.animateTextToTargetPosition();\n        }\n    }\n\n    const animateTextToOrigin = () => {\n        if (splashRef.value) {\n            splashRef.value.animateTextToOrigin();\n        }\n    }\n    \n    // 處理資源載入完成事件\n    const handleResourcesLoaded = () => {\n        loadComplete.value = true;\n    }\n    \n    // 處理狀態變化\n    const handleStateChange = (state) => {\n        currentState.value = state;\n    }\n    \n    // 處理動畫完成事件\n    const handleAnimationComplete = (animationType) => {\n        if (!isAutoPlaying.value) return;\n        \n        if (animationType === 'growing') {\n            // 生長動畫完成，等待1秒後開始收縮\n            autoPlayTimer = setTimeout(() => {\n                shrinkingFunction();\n            }, 0);\n        } else if (animationType === 'shrinking') {\n            // 收縮動畫完成，等待2秒後開始生長\n            autoPlayTimer = setTimeout(() => {\n                growingFunction();\n            }, 1000);\n        }\n    }\n    \n    const clickStart = () => {\n        isStarted.value = true;\n        startAutoPlay();\n        animateTextToTargetPosition();\n        splashRef.value.addMouseControlEvents();\n        \n        // 設置滾動動畫\n        setupScrollAnimations();\n        \n        // 啟用頁面滾動\n        document.body.style.overflow = 'auto';\n    }\n    \n    // 開始自動播放\n    const startAutoPlay = () => {\n        if (isAutoPlaying.value) return; // 如果已經在播放則不執行\n        isAutoPlaying.value = true;\n        \n        // 從生長動畫開始\n        growingFunction();\n    }\n    \n    // 停止自動播放\n    const stopAutoPlay = () => {\n        isAutoPlaying.value = false;\n        \n        // 清除任何待執行的定時器\n        if (autoPlayTimer) {\n            clearTimeout(autoPlayTimer);\n            autoPlayTimer = null;\n        }\n        \n        // 執行收合動畫，使其回到起點\n        shrinkingFunction();\n    }\n    \n    // 切換漢堡選單\n    const toggleMenu = () => {\n        isMenuOpen.value = !isMenuOpen.value;\n        // 當選單打開時禁止滾動\n        if (isMenuOpen.value) {\n            document.body.style.overflow = 'hidden';\n        } else {\n            // 如果已經開始，則恢復滾動\n            if (isStarted.value) {\n                document.body.style.overflow = 'auto';\n            }\n        }\n    }\n    \n    // 滾動到指定區塊\n    const scrollToSection = (sectionClass, isFromMobile = false) => {\n        // 如果從行動版選單點擊，先關閉選單\n        if (isFromMobile) {\n            toggleMenu();\n        }\n        \n        // 使用 setTimeout 確保 DOM 已更新\n        setTimeout(() => {\n            const section = document.querySelector(`.${sectionClass}`);\n            if (section) {\n                // 使用平滑滾動\n                window.scrollTo({\n                    top: section.offsetTop,\n                    behavior: 'smooth'\n                });\n            }\n        }, 100);\n    }\n    \n    onMounted(() => {\n        document.body.style.overflow = 'hidden';\n    });\n    // 組件卸載時清理\n    onUnmounted(() => {\n        if (autoPlayTimer) {\n            clearTimeout(autoPlayTimer);\n        }\n        isAutoPlaying.value = false;\n        \n        // 清理所有 ScrollTrigger 實例\n        ScrollTrigger.getAll().forEach(trigger => trigger.kill());\n    });\n</script>"],"version":3}